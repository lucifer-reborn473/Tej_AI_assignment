# Agent Class Documentation

## Overview
The `Agent` class is an AI-powered pipeline that processes user queries, performs web searches, filters data, and generates markdown responses. It integrates **Ollama AI** for query optimization and processing and uses **GoogleSearchScraper** for web scraping.

---

## Attributes

| Attribute      | Type            | Description                                                                 |
|-----------------|-----------------|-----------------------------------------------------------------------------|
| `query`        | `str`           | The user's input query.                                                    |
| `source_links` | `List[str]`     | Collection of scraped URLs.                                                |
| `markdown`     | `str`           | Generated markdown content.                                                |
| `markdown_path`| `str`           | Path to save the markdown file. Defaults to `'report.md'`.                 |
| `pdf_path`     | `str`           | Path to save the PDF file (if generated).                                  |
| `scraper`      | `GoogleSearchScraper` | Instance of web scraper used for fetching search results.             |
| `search_limit` | `int`           | Maximum number of search results to process. Defaults to `3`.             |

---

## Methods


### `create_search_query() -> str`
**Description:** Generates an optimized search query using **Ollama AI**.

- **Returns:**  
  `str`: The optimized search query or an error message.


---

### `search_ai(finetuned_query: str) -> List[str]`
**Description:** Performs a web search using the optimized query.

- **Args:**
  - `finetuned_query` (`str`): The query generated by `create_search_query`.

- **Returns:**  
  `List[str]`: List of URLs fetched from the search.

---

### `get_raw_filtered_data() -> str`
**Description:** Processes scraped URLs and filters the relevant content using **Ollama AI**.

- **Returns:**  
  `str`: Processed and filtered content from all sources.

---

### `final_response(filtered_data: str) -> str`
**Description:** Generates a final markdown response from the processed data and saves it to a file.

- **Args:**
  - `filtered_data` (`str`): Processed and filtered content from `get_raw_filtered_data`.

- **Returns:**  
  `str`: The generated markdown content.


---


